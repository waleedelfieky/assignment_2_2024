<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>assignment_2_2024: Robot Navigation System with Action Server</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">assignment_2_2024
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">action client server to control mobile robot in gazebo enviroment</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Robot Navigation System with Action Server </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md1"></a>
Table of Contents:</h1>
<ul>
<li><a href="#overview-of-system">overview-of-system</a></li>
<li><a href="#Create_Custom_Message">Create_Custom_Message</a></li>
<li><a href="#Create_Custom_Service">Create_Custom_Service</a></li>
<li><a href="#Node_One_implementation">Node_One_implementation</a></li>
<li><a href="#Node_Two_implementation">Node_Two_implementation</a></li>
<li><a href="#video">video</a></li>
<li><a href="#contact-information">Contact Information</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
overview-of-system:</h1>
<p>This project provides a ROS-based solution to improve robot navigation towards a target point. The system resolves the blocking behavior by implementing an action server, allowing the robot to continue functioning while moving towards the target.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Key Features:</h2>
<ul>
<li><b>Action Client Node</b>: Allows the user to set or cancel a target (x, y) and uses feedback/status from the action server to track progress. It also publishes the robot's position and velocity as a custom message (<code>x, y, vel_x, vel_z</code>) based on the <code>/odom</code> topic.</li>
<li><b>Service Node</b>: A service that returns the coordinates of the last target sent by the user.</li>
<li><b>Launch File</b>: A launch file to start the entire simulation setup, ensuring smooth execution of all components.</li>
</ul>
<h1><a class="anchor" id="autotoc_md4"></a>
Task Breakdown</h1>
<ol type="1">
<li><b>Action Client Node</b>: <br  />
<ul>
<li>Set or cancel a target (x, y) for the robot.</li>
<li>Monitor the robot’s progress using feedback/status from the action server.</li>
<li>Publish the robot’s position and velocity as a custom message (<code>x, y, vel_x, vel_z</code>).</li>
</ul>
</li>
<li><b>Service Node</b>: <br  />
<ul>
<li>Return the coordinates of the last target set by the user.</li>
</ul>
</li>
<li><b>Launch File</b>: <br  />
<ul>
<li>Launch the entire simulation and initialize all components.</li>
</ul>
</li>
</ol>
<h1><a class="anchor" id="autotoc_md5"></a>
Create_Custom_Message:</h1>
<p>in this stage we created a msg directory and define a custom message inside it the following content <img src="https://github.com/user-attachments/assets/a1a8b72b-42db-4029-8107-651b56448729" alt="image" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md6"></a>
Create_Custom_Service:</h1>
<p>in this stage we created a srv directory and define a custom srv inside it the following content <img src="https://github.com/user-attachments/assets/94102c74-12ff-44e6-83a2-7c9189bf86c6" alt="image" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md7"></a>
Node_One:</h1>
<h1><a class="anchor" id="autotoc_md8"></a>
Robot Action Client</h1>
<h2><a class="anchor" id="autotoc_md9"></a>
Overview</h2>
<p>This ROS-based application implements an action client that sends goals to a robot to navigate to a target location. The client communicates with the action server to control the robot's movement and monitors its state through feedback. It also publishes the robot's position and velocity as custom messages.</p>
<h3><a class="anchor" id="autotoc_md10"></a>
Key Features:</h3>
<ul>
<li><b>Action Client</b>: Sends navigation goals (x, y) to the robot.</li>
<li><b>Goal Control</b>: Allows the user to set, cancel, or terminate navigation goals through command-line input.</li>
<li><b>Robot State Publishing</b>: The robot's position and velocity are published in the <code>RobotState</code> message format, based on <code>/odom</code> data.</li>
<li><b>Feedback and Status</b>: Provides real-time feedback on the state of the goal (active, completed, or canceled).</li>
</ul>
<h3><a class="anchor" id="autotoc_md11"></a>
Workflow:</h3>
<ol type="1">
<li><b>Set Goal</b>: The user enters a target (x, y) coordinate, and the robot navigates to that point.</li>
<li><b>Cancel Goal</b>: The user can cancel an ongoing goal.</li>
<li><b>End Program</b>: The user can terminate the program.</li>
</ol>
<ol type="1">
<li>Follow the on-screen instructions for this node:</li>
</ol>
<ul>
<li>Press <code>s</code> to set a new target location.</li>
<li>Press <code>c</code> to cancel the current goal.</li>
<li>Press <code>e</code> to exit the program.</li>
</ul>
<p><img src="https://github.com/user-attachments/assets/a0195d51-3853-4d05-a7bd-b25de3765fcb" alt="image" class="inline"/></p>
<p>there is an error check here is the user entered invalid input as shown in the follwoing picture <img src="https://github.com/user-attachments/assets/3285be2a-d347-467a-a299-d83a2505018b" alt="image" class="inline"/></p>
<p>after we enter the command the robot will move as stated in the video at the end</p>
<p>also the updates is being publiched to the update state topic as showing in the following picture <img src="https://github.com/user-attachments/assets/633a2c65-c4d6-448d-8e57-cf73f7ee6305" alt="image" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md12"></a>
Node_Two:</h2>
<h2><a class="anchor" id="autotoc_md13"></a>
Overview</h2>
<p>The <code>get_target_service_node</code> is a ROS node designed to manage and provide the robot's target position. It listens for target goal updates via a subscriber and offers a service to retrieve the current target coordinates.</p>
<h2><a class="anchor" id="autotoc_md14"></a>
Functionality</h2>
<p>This node has two main components:</p><ol type="1">
<li><b>Subscriber</b>: It subscribes to the <code>/reaching_goal/goal</code> topic and updates the target position whenever a new goal is received.</li>
<li><b>Service</b>: It advertises a service called <code>"get_target"</code>, which allows users to request the robot's current target position.</li>
</ol>
<h3><a class="anchor" id="autotoc_md15"></a>
Key Features:</h3>
<ul>
<li><b>Goal Update</b>: The target position (x, y) is updated based on messages received on the <code>/reaching_goal/goal</code> topic.</li>
<li><b>Service</b>: The node provides a service to return the current target coordinates, which can be queried by other nodes or users.</li>
</ul>
<h2><a class="anchor" id="autotoc_md16"></a>
ROS Topics and Services</h2>
<ul>
<li><b>Subscribed Topic</b>: <code>/reaching_goal/goal</code><ul>
<li><b>Message Type</b>: <code>assignment_2_2024/PlanningActionGoal</code></li>
<li><b>Purpose</b>: Receives the target goal (x, y) coordinates.</li>
</ul>
</li>
<li><b>Advertised Service</b>: <code>get_target</code><ul>
<li><b>Service Type</b>: <code>assignment_2_2024/GetTarget</code></li>
<li><b>Purpose</b>: Returns the current target coordinates (x, y).</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md17"></a>
How It Works</h2>
<ol type="1">
<li><b>Goal Subscription</b>: When a new goal message is published to the <code>/reaching_goal/goal</code> topic, the node's <code>goalCallback</code> function is triggered, updating the robot's target position (x, y).</li>
<li><b>Service</b>: When the service <code>"get_target"</code> is called, the node responds with the latest stored target coordinates.</li>
</ol>
<p>the service call output is shown in following picture</p>
<p><img src="https://github.com/user-attachments/assets/c468a174-2fbc-4d3c-9054-a31e1c50536f" alt="image" class="inline"/></p>
<p>overall system in action would be observed in the attached video at the end</p>
<h2><a class="anchor" id="autotoc_md18"></a>
launch_file</h2>
<h1><a class="anchor" id="autotoc_md19"></a>
Launch File README</h1>
<h2><a class="anchor" id="autotoc_md20"></a>
Overview</h2>
<p>This launch file initializes several nodes and parameters for the <code>assignment_2_2024</code> package, including simulation setup, wall-following behavior, and navigation.</p>
<h2><a class="anchor" id="autotoc_md21"></a>
Modifications</h2>
<p>The following lines were added to the existing launch file:</p>
<p><img src="https://github.com/user-attachments/assets/20917fdb-709e-46d8-9728-eca49f574ec7" alt="image" class="inline"/></p>
<p>These additions integrate:</p>
<ul>
<li>robot_action_client: A node for sending goals to the robot.</li>
<li>target_service: A node that provides the target position as a ROS service.</li>
</ul>
<h2><a class="anchor" id="autotoc_md22"></a>
video for the final output:</h2>
<p><a href="https://github.com/user-attachments/assets/9b975f53-e362-4c72-9152-10f24c2b3669">https://github.com/user-attachments/assets/9b975f53-e362-4c72-9152-10f24c2b3669</a></p>
<h2><a class="anchor" id="autotoc_md23"></a>
Contact Information:</h2>
<p>If you have any questions, suggestions, or feedback regarding these this project, please feel free to contact me at <a href="#" onclick="location.href='mai'+'lto:'+'wal'+'ee'+'del'+'fi'+'eky'+'@g'+'mai'+'l.'+'com'; return false;">walee<span style="display: none;">.nosp@m.</span>delf<span style="display: none;">.nosp@m.</span>ieky@<span style="display: none;">.nosp@m.</span>gmai<span style="display: none;">.nosp@m.</span>l.com</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
